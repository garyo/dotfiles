[user]
	name = Gary Oberbrunner
	email = garyo@darkstarsystems.com
[pretty]
	twolines = tformat:%h %an, %cr: %d%n. . . . %w(70,0,8)%s
[alias]
	ll = !git log -10 --graph --date-order --format=twolines
	tube = log --graph --format=oneline --abbrev-commit --decorate --color
	tags = !git for-each-ref --sort=taggerdate --format '%(taggerdate:short)%09%(tag)' 'refs/tags'
	alias = !git config --get-regexp 'alias.*'
	ff = merge --ff-only @{u}
	outgoing = log --format=\"%aD: %aN [%h]%n  %s\"  @{u}..HEAD
	outgoing-all = log --format=twolines  --branches --not --remotes
	incoming = !git fetch && git log ..@{u}
	ga-merge = merge --no-commit --no-ff --log=9999
	lg1 = log --graph --date-order --abbrev-commit --decorate --date=relative --format=format:'%C(bold blue)%h%C(reset) - %C(bold green)(%ar)%C(reset) %C(black)%s%C(reset) %C(dim white)- %an%C(reset)%C(bold red)%d%C(reset)' --all
	lg2 = log --graph --date-order --abbrev-commit --decorate --format=format:'%C(bold blue)%h%C(reset) - %C(bold cyan)%aD%C(reset) %C(bold green)(%ar)%C(reset)%C(bold red)%d%C(reset)%n''          %C(black)%s%C(reset) %C(dim white)- %an%C(reset)' --all
	lg = !"git lg1"
	# Show the latest ancestor of HEAD that's on a different branch; that's usually where this branch branched from.
	# May only work if this branch is not merged, e.g. a topic branch.
	branch-base = !git show-branch -a 2>/dev/null | grep '^[ +-]*\\*' | grep -v "$(git rev-parse --abbrev-ref HEAD)" | head -n1 | perl -pe 's/.*?\\[(.*?)\\].*/\\1/'
	current-branch = rev-parse --abbrev-ref HEAD
	accept-ours = "!f() { git checkout --ours -- \"${@:-.}\"; git add -u \"${@:-.}\"; }; f"
	accept-theirs = "!f() { git checkout --theirs -- \"${@:-.}\"; git add -u \"${@:-.}\"; }; f"
	summary = !"git status -s -b --untracked-files=no; echo "$(tput setaf 1)*** OUTGOING:$(tput sgr0)"; git outgoing -n2; echo "$(tput setaf 2)*** HEAD:$(tput sgr0)"; git show --format='%ad%n  %ar [%h]: %aN%n  %s' --quiet HEAD; git stash list; echo "$(tput setaf 5)*** UNPUSHED:$(tput sgr0)"; git ll --branches --not --remotes"
	# Summarize a single commit, e.g. to reference it somewhere
	summarize=show --format='%h \"%s\"' --quiet
	# Show recent branches, in a nice format
 	branches=for-each-ref --sort=-authordate --format='%(authordate:short) %(color:blue)%(refname:short) %(color:yellow)%(upstream:track)%0a   ...%(color:red)%(subject)' refs/heads

        # Ignore certain files/dirs locally -- useful for JS projects that check in builds
        ignore=update-index --skip-worktree
        unignore=update-index --no-skip-worktree
        ignored=!git ls-files -v | grep "^S"
        # quick status: one line per file, ignore untracked
        st=status -s -uno
        amend-quick=commit --amend --no-edit
        dc=diff --cached
[gui]
	fontdiff = -family \"Droid Sans Mono Dotted\" -size 10 -weight normal -slant roman -underline 0 -overstrike 0
	warndetachedcommit = true
	encoding = utf-8
[push]
	default = tracking
        # when pushing, push all annotated tags
        followTags = true
[diff]
	renamelimit = 0
	renames = copies
	tool = kdiff3
	guitool = kdiff3
	submodule = log
[merge]
	tool = kdiff3
[core]
	editor = emacsclient -c -a \"\"
	preloadindex = true
	fscache = true
	autocrlf = false ### (this is best left unset or false; no CRLF conversion at all)
	commitGraph = true
	writeCommitGraph = true
        # Use per-repo .gitattributes instead!
[difftool "Kaleidoscope"]
	cmd = ksdiff --partial-changeset --relative-path \"$MERGED\" -- \"$LOCAL\" \"$REMOTE\"
[difftool]
	prompt = false
[mergetool "Kaleidoscope"]
	cmd = ksdiff --merge --output \"$MERGED\" --base \"$BASE\" -- \"$LOCAL\" --snapshot \"$REMOTE\" --snapshot
	trustExitCode = true
[mergetool]
	prompt = false
[status]
	# magit needs this even though it's the default,
	# otherwise it recursively shows all untracked files (which can be slow).
	showUntrackedFiles = normal
	#submodulesummary = 1
[filter "lfs"]
	smudge = git-lfs smudge -- %f
	process = git-lfs filter-process
	required = true
	clean = git-lfs clean -- %f

[include]
        # Include machine-local gitconfig, e.g. for Windows/Mac tool paths
        path = .gitconfig-local
[rerere]
	enabled = true
[fetch]
	writeCommitGraph = true
